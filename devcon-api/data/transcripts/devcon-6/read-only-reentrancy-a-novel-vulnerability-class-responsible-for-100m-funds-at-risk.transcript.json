{
	"systeminfo": "AVX = 1 | AVX2 = 1 | AVX512 = 0 | FMA = 1 | NEON = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 0 | SSE3 = 1 | VSX = 0 | ",
	"model": {
		"type": "base",
		"multilingual": false,
		"vocab": 51864,
		"audio": {
			"ctx": 1500,
			"state": 512,
			"head": 8,
			"layer": 6
		},
		"text": {
			"ctx": 448,
			"state": 512,
			"head": 8,
			"layer": 6
		},
		"mels": 80,
		"f16": 1
	},
	"params": {
		"model": "models/ggml-base.en.bin",
		"language": "en",
		"translate": false
	},
	"result": {
		"language": "en"
	},
	"transcription": [
		{
			"timestamps": {
				"from": "00:00:00,000",
				"to": "00:00:02,440"
			},
			"offsets": {
				"from": 0,
				"to": 2440
			},
			"text": " [MUSIC PLAYING]"
		},
		{
			"timestamps": {
				"from": "00:00:02,440",
				"to": "00:00:17,960"
			},
			"offsets": {
				"from": 2440,
				"to": 17960
			},
			"text": " So I'll be talking about Redonely Reendranseam."
		},
		{
			"timestamps": {
				"from": "00:00:17,960",
				"to": "00:00:21,280"
			},
			"offsets": {
				"from": 17960,
				"to": 21280
			},
			"text": " My name is Janis, and I'm a Smart Contract Auditor."
		},
		{
			"timestamps": {
				"from": "00:00:21,280",
				"to": "00:00:23,120"
			},
			"offsets": {
				"from": 21280,
				"to": 23120
			},
			"text": " I work for sense security."
		},
		{
			"timestamps": {
				"from": "00:00:23,120",
				"to": "00:00:25,960"
			},
			"offsets": {
				"from": 23120,
				"to": 25960
			},
			"text": " And for the past five years with sense security,"
		},
		{
			"timestamps": {
				"from": "00:00:25,960",
				"to": "00:00:30,280"
			},
			"offsets": {
				"from": 25960,
				"to": 30280
			},
			"text": " we have secured some of the most famous DeFi protocols."
		},
		{
			"timestamps": {
				"from": "00:00:30,280",
				"to": "00:00:33,520"
			},
			"offsets": {
				"from": 30280,
				"to": 33520
			},
			"text": " And sometimes we find very interesting attack vectors"
		},
		{
			"timestamps": {
				"from": "00:00:33,520",
				"to": "00:00:37,280"
			},
			"offsets": {
				"from": 33520,
				"to": 37280
			},
			"text": " as the one I'm going to describe today."
		},
		{
			"timestamps": {
				"from": "00:00:37,280",
				"to": "00:00:40,680"
			},
			"offsets": {
				"from": 37280,
				"to": 40680
			},
			"text": " Actually, this attack was found by a colleague of mine"
		},
		{
			"timestamps": {
				"from": "00:00:40,680",
				"to": "00:00:42,280"
			},
			"offsets": {
				"from": 40680,
				"to": 42280
			},
			"text": " named Kenan."
		},
		{
			"timestamps": {
				"from": "00:00:42,280",
				"to": "00:00:45,280"
			},
			"offsets": {
				"from": 42280,
				"to": 45280
			},
			"text": " So first of all, why should we care about this attack?"
		},
		{
			"timestamps": {
				"from": "00:00:45,280",
				"to": "00:00:47,800"
			},
			"offsets": {
				"from": 45280,
				"to": 47800
			},
			"text": " Why this attack is so important?"
		},
		{
			"timestamps": {
				"from": "00:00:47,800",
				"to": "00:00:51,040"
			},
			"offsets": {
				"from": 47800,
				"to": 51040
			},
			"text": " So it's actually quite a novel attack."
		},
		{
			"timestamps": {
				"from": "00:00:51,040",
				"to": "00:00:52,920"
			},
			"offsets": {
				"from": 51040,
				"to": 52920
			},
			"text": " Not many people know about this."
		},
		{
			"timestamps": {
				"from": "00:00:52,920",
				"to": "00:00:55,760"
			},
			"offsets": {
				"from": 52920,
				"to": 55760
			},
			"text": " And it's often neglected by both auditors"
		},
		{
			"timestamps": {
				"from": "00:00:55,760",
				"to": "00:00:58,240"
			},
			"offsets": {
				"from": 55760,
				"to": 58240
			},
			"text": " and developers."
		},
		{
			"timestamps": {
				"from": "00:00:58,240",
				"to": "00:01:02,080"
			},
			"offsets": {
				"from": 58240,
				"to": 62080
			},
			"text": " So this attack is based on the interaction"
		},
		{
			"timestamps": {
				"from": "00:01:02,080",
				"to": "00:01:03,800"
			},
			"offsets": {
				"from": 62080,
				"to": 63800
			},
			"text": " between different protocols."
		},
		{
			"timestamps": {
				"from": "00:01:03,800",
				"to": "00:01:08,480"
			},
			"offsets": {
				"from": 63800,
				"to": 68480
			},
			"text": " And these interactions get more and more popular since we"
		},
		{
			"timestamps": {
				"from": "00:01:08,480",
				"to": "00:01:12,120"
			},
			"offsets": {
				"from": 68480,
				"to": 72120
			},
			"text": " build based on these DeFi blocks."
		},
		{
			"timestamps": {
				"from": "00:01:12,120",
				"to": "00:01:14,280"
			},
			"offsets": {
				"from": 72120,
				"to": 74280
			},
			"text": " What makes this attack more interesting"
		},
		{
			"timestamps": {
				"from": "00:01:14,280",
				"to": "00:01:16,560"
			},
			"offsets": {
				"from": 74280,
				"to": 76560
			},
			"text": " is that it actually affected protocols"
		},
		{
			"timestamps": {
				"from": "00:01:16,560",
				"to": "00:01:21,320"
			},
			"offsets": {
				"from": 76560,
				"to": 81320
			},
			"text": " that integrate with Kerf Finance, one of the most famous"
		},
		{
			"timestamps": {
				"from": "00:01:21,320",
				"to": "00:01:23,200"
			},
			"offsets": {
				"from": 81320,
				"to": 83200
			},
			"text": " exchanges out there."
		},
		{
			"timestamps": {
				"from": "00:01:23,200",
				"to": "00:01:27,440"
			},
			"offsets": {
				"from": 83200,
				"to": 87440
			},
			"text": " And as a matter of fact, the total funds that were at risk"
		},
		{
			"timestamps": {
				"from": "00:01:27,440",
				"to": "00:01:28,880"
			},
			"offsets": {
				"from": 87440,
				"to": 88880
			},
			"text": " were more than 100 million."
		},
		{
			"timestamps": {
				"from": "00:01:28,880",
				"to": "00:01:31,120"
			},
			"offsets": {
				"from": 88880,
				"to": 91120
			},
			"text": " So we're talking about a lot of money here."
		},
		{
			"timestamps": {
				"from": "00:01:31,120",
				"to": "00:01:33,360"
			},
			"offsets": {
				"from": 91120,
				"to": 93360
			},
			"text": " So first of all, what is the redundancy?"
		},
		{
			"timestamps": {
				"from": "00:01:33,360",
				"to": "00:01:36,520"
			},
			"offsets": {
				"from": 93360,
				"to": 96520
			},
			"text": " So our interest takes place when an execution of a Smart"
		},
		{
			"timestamps": {
				"from": "00:01:36,520",
				"to": "00:01:38,320"
			},
			"offsets": {
				"from": 96520,
				"to": 98320
			},
			"text": " Contract is interrupted."
		},
		{
			"timestamps": {
				"from": "00:01:38,320",
				"to": "00:01:42,040"
			},
			"offsets": {
				"from": 98320,
				"to": 102040
			},
			"text": " And the state has not been fully updated."
		},
		{
			"timestamps": {
				"from": "00:01:42,040",
				"to": "00:01:45,640"
			},
			"offsets": {
				"from": 102040,
				"to": 105640
			},
			"text": " And the control is passed to another Smart Contract,"
		},
		{
			"timestamps": {
				"from": "00:01:45,640",
				"to": "00:01:50,200"
			},
			"offsets": {
				"from": 105640,
				"to": 110200
			},
			"text": " which can then call again a function of the Smart Contract"
		},
		{
			"timestamps": {
				"from": "00:01:50,200",
				"to": "00:01:53,200"
			},
			"offsets": {
				"from": 110200,
				"to": 113200
			},
			"text": " whose state hasn't been finalized."
		},
		{
			"timestamps": {
				"from": "00:01:53,200",
				"to": "00:01:57,120"
			},
			"offsets": {
				"from": 113200,
				"to": 117120
			},
			"text": " And up until now, the traditional re-entrancy"
		},
		{
			"timestamps": {
				"from": "00:01:57,120",
				"to": "00:02:01,960"
			},
			"offsets": {
				"from": 117120,
				"to": 121960
			},
			"text": " was concerned only with entry points that modify the state."
		},
		{
			"timestamps": {
				"from": "00:02:01,960",
				"to": "00:02:05,640"
			},
			"offsets": {
				"from": 121960,
				"to": 125640
			},
			"text": " But as we will show, this is not the case here."
		},
		{
			"timestamps": {
				"from": "00:02:05,640",
				"to": "00:02:09,960"
			},
			"offsets": {
				"from": 125640,
				"to": 129960
			},
			"text": " So just to give you the textbook example of a re-entrancy,"
		},
		{
			"timestamps": {
				"from": "00:02:09,960",
				"to": "00:02:12,360"
			},
			"offsets": {
				"from": 129960,
				"to": 132360
			},
			"text": " we have this re-entran contract."
		},
		{
			"timestamps": {
				"from": "00:02:12,360",
				"to": "00:02:15,720"
			},
			"offsets": {
				"from": 132360,
				"to": 135720
			},
			"text": " And users can deposit and withdraw either from it."
		},
		{
			"timestamps": {
				"from": "00:02:15,720",
				"to": "00:02:19,320"
			},
			"offsets": {
				"from": 135720,
				"to": 139320
			},
			"text": " And actually, when a user tries to withdraw,"
		},
		{
			"timestamps": {
				"from": "00:02:19,320",
				"to": "00:02:23,160"
			},
			"offsets": {
				"from": 139320,
				"to": 143160
			},
			"text": " then when the native ether is sent to the receiver,"
		},
		{
			"timestamps": {
				"from": "00:02:23,160",
				"to": "00:02:26,400"
			},
			"offsets": {
				"from": 143160,
				"to": 146400
			},
			"text": " the receiver has the opportunity to run arbitrary code."
		},
		{
			"timestamps": {
				"from": "00:02:26,400",
				"to": "00:02:29,080"
			},
			"offsets": {
				"from": 146400,
				"to": 149080
			},
			"text": " And what a receiver, a malicious receiver, can do,"
		},
		{
			"timestamps": {
				"from": "00:02:29,080",
				"to": "00:02:32,160"
			},
			"offsets": {
				"from": 149080,
				"to": 152160
			},
			"text": " can call this withdrawal function again."
		},
		{
			"timestamps": {
				"from": "00:02:32,160",
				"to": "00:02:34,600"
			},
			"offsets": {
				"from": 152160,
				"to": 154600
			},
			"text": " And since the state has not been fully updated"
		},
		{
			"timestamps": {
				"from": "00:02:34,600",
				"to": "00:02:37,280"
			},
			"offsets": {
				"from": 154600,
				"to": 157280
			},
			"text": " and his balance is not set to zero,"
		},
		{
			"timestamps": {
				"from": "00:02:37,280",
				"to": "00:02:40,360"
			},
			"offsets": {
				"from": 157280,
				"to": 160360
			},
			"text": " they can successfully call withdrawal again"
		},
		{
			"timestamps": {
				"from": "00:02:40,360",
				"to": "00:02:45,440"
			},
			"offsets": {
				"from": 160360,
				"to": 165440
			},
			"text": " and essentially get more ether than what they had deposited."
		},
		{
			"timestamps": {
				"from": "00:02:45,440",
				"to": "00:02:47,640"
			},
			"offsets": {
				"from": 165440,
				"to": 167640
			},
			"text": " So this can be easily fixed."
		},
		{
			"timestamps": {
				"from": "00:02:47,640",
				"to": "00:02:50,680"
			},
			"offsets": {
				"from": 167640,
				"to": 170680
			},
			"text": " And people deal with this problem by introducing"
		},
		{
			"timestamps": {
				"from": "00:02:50,680",
				"to": "00:02:52,720"
			},
			"offsets": {
				"from": 170680,
				"to": 172720
			},
			"text": " this non-rentran modifier."
		},
		{
			"timestamps": {
				"from": "00:02:52,720",
				"to": "00:02:56,360"
			},
			"offsets": {
				"from": 172720,
				"to": 176360
			},
			"text": " So if we visit the same function again,"
		},
		{
			"timestamps": {
				"from": "00:02:56,360",
				"to": "00:03:00,360"
			},
			"offsets": {
				"from": 176360,
				"to": 180360
			},
			"text": " we cannot call withdrawal again when we receive ether"
		},
		{
			"timestamps": {
				"from": "00:03:00,360",
				"to": "00:03:05,360"
			},
			"offsets": {
				"from": 180360,
				"to": 185360
			},
			"text": " because the lock is true and the whole transaction will fail."
		},
		{
			"timestamps": {
				"from": "00:03:05,360",
				"to": "00:03:10,480"
			},
			"offsets": {
				"from": 185360,
				"to": 190480
			},
			"text": " However, nothing prevents the malicious user"
		},
		{
			"timestamps": {
				"from": "00:03:10,480",
				"to": "00:03:14,560"
			},
			"offsets": {
				"from": 190480,
				"to": 194560
			},
			"text": " from making a call to another contract"
		},
		{
			"timestamps": {
				"from": "00:03:14,560",
				"to": "00:03:17,560"
			},
			"offsets": {
				"from": 194560,
				"to": 197560
			},
			"text": " which reads the state of this contract."
		},
		{
			"timestamps": {
				"from": "00:03:17,560",
				"to": "00:03:21,240"
			},
			"offsets": {
				"from": 197560,
				"to": 201240
			},
			"text": " So if someone reads the state at this point,"
		},
		{
			"timestamps": {
				"from": "00:03:21,240",
				"to": "00:03:25,000"
			},
			"offsets": {
				"from": 201240,
				"to": 205000
			},
			"text": " what they're gonna see is that the total supply"
		},
		{
			"timestamps": {
				"from": "00:03:25,000",
				"to": "00:03:29,120"
			},
			"offsets": {
				"from": 205000,
				"to": 209120
			},
			"text": " has been reduced, but the balance of the user"
		},
		{
			"timestamps": {
				"from": "00:03:29,120",
				"to": "00:03:31,080"
			},
			"offsets": {
				"from": 209120,
				"to": 211080
			},
			"text": " has not been set to zero."
		},
		{
			"timestamps": {
				"from": "00:03:31,080",
				"to": "00:03:33,840"
			},
			"offsets": {
				"from": 211080,
				"to": 213840
			},
			"text": " This means that the ratio, for example,"
		},
		{
			"timestamps": {
				"from": "00:03:33,840",
				"to": "00:03:36,160"
			},
			"offsets": {
				"from": 213840,
				"to": 216160
			},
			"text": " is not gonna be correct."
		},
		{
			"timestamps": {
				"from": "00:03:36,160",
				"to": "00:03:41,160"
			},
			"offsets": {
				"from": 216160,
				"to": 221160
			},
			"text": " So this is a different attack from the known re-entran team."
		},
		{
			"timestamps": {
				"from": "00:03:41,160",
				"to": "00:03:45,520"
			},
			"offsets": {
				"from": 221160,
				"to": 225520
			},
			"text": " So let's get to the curve and what happened there."
		},
		{
			"timestamps": {
				"from": "00:03:45,520",
				"to": "00:03:50,160"
			},
			"offsets": {
				"from": 225520,
				"to": 230160
			},
			"text": " As you know, a curve is decentralized exchange."
		},
		{
			"timestamps": {
				"from": "00:03:50,160",
				"to": "00:03:52,120"
			},
			"offsets": {
				"from": 230160,
				"to": 232120
			},
			"text": " There are many pools in curve."
		},
		{
			"timestamps": {
				"from": "00:03:52,120",
				"to": "00:03:54,160"
			},
			"offsets": {
				"from": 232120,
				"to": 234160
			},
			"text": " The pool that was affected by this attack"
		},
		{
			"timestamps": {
				"from": "00:03:54,160",
				"to": "00:03:59,160"
			},
			"offsets": {
				"from": 234160,
				"to": 239160
			},
			"text": " was the pool that contains native ether and state ether."
		},
		{
			"timestamps": {
				"from": "00:03:59,160",
				"to": "00:04:04,320"
			},
			"offsets": {
				"from": 239160,
				"to": 244320
			},
			"text": " And as you might know, users are liquidity providers."
		},
		{
			"timestamps": {
				"from": "00:04:04,320",
				"to": "00:04:05,920"
			},
			"offsets": {
				"from": 244320,
				"to": 245920
			},
			"text": " They can add liquidity to a pool"
		},
		{
			"timestamps": {
				"from": "00:04:05,920",
				"to": "00:04:07,680"
			},
			"offsets": {
				"from": 245920,
				"to": 247680
			},
			"text": " and of course they can remove liquidity."
		},
		{
			"timestamps": {
				"from": "00:04:07,680",
				"to": "00:04:10,480"
			},
			"offsets": {
				"from": 247680,
				"to": 250480
			},
			"text": " So what happens when users remove liquidity?"
		},
		{
			"timestamps": {
				"from": "00:04:10,480",
				"to": "00:04:14,600"
			},
			"offsets": {
				"from": 250480,
				"to": 254600
			},
			"text": " Well, first the LP tokens they hold is burned."
		},
		{
			"timestamps": {
				"from": "00:04:14,600",
				"to": "00:04:17,880"
			},
			"offsets": {
				"from": 254600,
				"to": 257880
			},
			"text": " So we can think that the total supply"
		},
		{
			"timestamps": {
				"from": "00:04:17,880",
				"to": "00:04:20,040"
			},
			"offsets": {
				"from": 257880,
				"to": 260040
			},
			"text": " of the LP token is reduced."
		},
		{
			"timestamps": {
				"from": "00:04:20,040",
				"to": "00:04:24,880"
			},
			"offsets": {
				"from": 260040,
				"to": 264880
			},
			"text": " And then one by one, the tokens are sent to the user."
		},
		{
			"timestamps": {
				"from": "00:04:24,880",
				"to": "00:04:28,720"
			},
			"offsets": {
				"from": 264880,
				"to": 268720
			},
			"text": " And the first token that is sent is native ether."
		},
		{
			"timestamps": {
				"from": "00:04:28,720",
				"to": "00:04:32,200"
			},
			"offsets": {
				"from": 268720,
				"to": 272200
			},
			"text": " So upon the receiver of this native ether,"
		},
		{
			"timestamps": {
				"from": "00:04:32,200",
				"to": "00:04:34,960"
			},
			"offsets": {
				"from": 272200,
				"to": 274960
			},
			"text": " a malicious user has the opportunity"
		},
		{
			"timestamps": {
				"from": "00:04:34,960",
				"to": "00:04:38,960"
			},
			"offsets": {
				"from": 274960,
				"to": 278960
			},
			"text": " to make an arbitrary call."
		},
		{
			"timestamps": {
				"from": "00:04:38,960",
				"to": "00:04:42,280"
			},
			"offsets": {
				"from": 278960,
				"to": 282280
			},
			"text": " Of course they cannot call a curve"
		},
		{
			"timestamps": {
				"from": "00:04:42,280",
				"to": "00:04:45,760"
			},
			"offsets": {
				"from": 282280,
				"to": 285760
			},
			"text": " because it's protected by an unread or modifier."
		},
		{
			"timestamps": {
				"from": "00:04:45,760",
				"to": "00:04:49,120"
			},
			"offsets": {
				"from": 285760,
				"to": 289120
			},
			"text": " However, what they can do is they can call,"
		},
		{
			"timestamps": {
				"from": "00:04:49,120",
				"to": "00:04:52,400"
			},
			"offsets": {
				"from": 289120,
				"to": 292400
			},
			"text": " make a call to another protocol"
		},
		{
			"timestamps": {
				"from": "00:04:52,400",
				"to": "00:04:56,480"
			},
			"offsets": {
				"from": 292400,
				"to": 296480
			},
			"text": " that reads the state of this pool."
		},
		{
			"timestamps": {
				"from": "00:04:56,480",
				"to": "00:04:59,000"
			},
			"offsets": {
				"from": 296480,
				"to": 299000
			},
			"text": " And how protocols usually read the state"
		},
		{
			"timestamps": {
				"from": "00:04:59,000",
				"to": "00:05:02,120"
			},
			"offsets": {
				"from": 299000,
				"to": 302120
			},
			"text": " is by using this get virtual price function"
		},
		{
			"timestamps": {
				"from": "00:05:02,120",
				"to": "00:05:04,000"
			},
			"offsets": {
				"from": 302120,
				"to": 304000
			},
			"text": " that they have down below."
		},
		{
			"timestamps": {
				"from": "00:05:04,000",
				"to": "00:05:06,240"
			},
			"offsets": {
				"from": 304000,
				"to": 306240
			},
			"text": " So let's inspect this a little bit."
		},
		{
			"timestamps": {
				"from": "00:05:06,240",
				"to": "00:05:10,120"
			},
			"offsets": {
				"from": 306240,
				"to": 310120
			},
			"text": " So the get virtual price depends on this defactor"
		},
		{
			"timestamps": {
				"from": "00:05:10,120",
				"to": "00:05:12,080"
			},
			"offsets": {
				"from": 310120,
				"to": 312080
			},
			"text": " which depends on the balances."
		},
		{
			"timestamps": {
				"from": "00:05:12,080",
				"to": "00:05:15,400"
			},
			"offsets": {
				"from": 312080,
				"to": 315400
			},
			"text": " Remember, we have only updated the balance of the ether"
		},
		{
			"timestamps": {
				"from": "00:05:15,400",
				"to": "00:05:17,360"
			},
			"offsets": {
				"from": 315400,
				"to": 317360
			},
			"text": " but not the balance of the state ether."
		},
		{
			"timestamps": {
				"from": "00:05:17,360",
				"to": "00:05:20,120"
			},
			"offsets": {
				"from": 317360,
				"to": 320120
			},
			"text": " And also depends on the token supply."
		},
		{
			"timestamps": {
				"from": "00:05:20,120",
				"to": "00:05:23,040"
			},
			"offsets": {
				"from": 320120,
				"to": 323040
			},
			"text": " And remember, we reduced the token supply."
		},
		{
			"timestamps": {
				"from": "00:05:23,040",
				"to": "00:05:25,880"
			},
			"offsets": {
				"from": 323040,
				"to": 325880
			},
			"text": " So what we have seen here is we essentially"
		},
		{
			"timestamps": {
				"from": "00:05:25,880",
				"to": "00:05:29,880"
			},
			"offsets": {
				"from": 325880,
				"to": 329880
			},
			"text": " pumped this get virtual price."
		},
		{
			"timestamps": {
				"from": "00:05:29,880",
				"to": "00:05:34,680"
			},
			"offsets": {
				"from": 329880,
				"to": 334680
			},
			"text": " So this function is used to give an approximation"
		},
		{
			"timestamps": {
				"from": "00:05:34,680",
				"to": "00:05:36,600"
			},
			"offsets": {
				"from": 334680,
				"to": 336600
			},
			"text": " of the value of the LP token."
		},
		{
			"timestamps": {
				"from": "00:05:36,600",
				"to": "00:05:38,800"
			},
			"offsets": {
				"from": 336600,
				"to": 338800
			},
			"text": " So imagine that we have a protocol"
		},
		{
			"timestamps": {
				"from": "00:05:38,800",
				"to": "00:05:41,440"
			},
			"offsets": {
				"from": 338800,
				"to": 341440
			},
			"text": " that holds these LP tokens."
		},
		{
			"timestamps": {
				"from": "00:05:41,440",
				"to": "00:05:45,760"
			},
			"offsets": {
				"from": 341440,
				"to": 345760
			},
			"text": " During this attack, the price of the LP token is pumped."
		},
		{
			"timestamps": {
				"from": "00:05:45,760",
				"to": "00:05:48,040"
			},
			"offsets": {
				"from": 345760,
				"to": 348040
			},
			"text": " And then the protocol will think"
		},
		{
			"timestamps": {
				"from": "00:05:48,040",
				"to": "00:05:50,480"
			},
			"offsets": {
				"from": 348040,
				"to": 350480
			},
			"text": " that it holds more money than it should."
		},
		{
			"timestamps": {
				"from": "00:05:50,480",
				"to": "00:05:52,240"
			},
			"offsets": {
				"from": 350480,
				"to": 352240
			},
			"text": " Read-only re-entering is still re-entering"
		},
		{
			"timestamps": {
				"from": "00:05:52,240",
				"to": "00:05:57,440"
			},
			"offsets": {
				"from": 352240,
				"to": 357440
			},
			"text": " in the sense that the storage update is not fully finalized."
		},
		{
			"timestamps": {
				"from": "00:05:57,440",
				"to": "00:06:00,800"
			},
			"offsets": {
				"from": 357440,
				"to": 360800
			},
			"text": " But the big difference is that we read the state."
		},
		{
			"timestamps": {
				"from": "00:06:00,800",
				"to": "00:06:03,880"
			},
			"offsets": {
				"from": 360800,
				"to": 363880
			},
			"text": " We don't try to access a function that"
		},
		{
			"timestamps": {
				"from": "00:06:03,880",
				"to": "00:06:07,120"
			},
			"offsets": {
				"from": 363880,
				"to": 367120
			},
			"text": " modifies the state of the function."
		},
		{
			"timestamps": {
				"from": "00:06:07,120",
				"to": "00:06:09,880"
			},
			"offsets": {
				"from": 367120,
				"to": 369880
			},
			"text": " So how can we prevent this attack?"
		},
		{
			"timestamps": {
				"from": "00:06:09,880",
				"to": "00:06:13,760"
			},
			"offsets": {
				"from": 369880,
				"to": 373760
			},
			"text": " So one way is to make this log that I showed you"
		},
		{
			"timestamps": {
				"from": "00:06:13,760",
				"to": "00:06:17,560"
			},
			"offsets": {
				"from": 373760,
				"to": 377560
			},
			"text": " before in the non-reentering body fire to make it public."
		},
		{
			"timestamps": {
				"from": "00:06:17,560",
				"to": "00:06:20,440"
			},
			"offsets": {
				"from": 377560,
				"to": 380440
			},
			"text": " This works for new protocols that are being developed."
		},
		{
			"timestamps": {
				"from": "00:06:20,440",
				"to": "00:06:23,360"
			},
			"offsets": {
				"from": 380440,
				"to": 383360
			},
			"text": " But what can we do for all protocols?"
		},
		{
			"timestamps": {
				"from": "00:06:23,360",
				"to": "00:06:27,840"
			},
			"offsets": {
				"from": 383360,
				"to": 387840
			},
			"text": " Well, the solution that we've seen to be more efficient"
		},
		{
			"timestamps": {
				"from": "00:06:27,840",
				"to": "00:06:35,000"
			},
			"offsets": {
				"from": 387840,
				"to": 395000
			},
			"text": " is when you try to read the state of a smart contract,"
		},
		{
			"timestamps": {
				"from": "00:06:35,000",
				"to": "00:06:39,520"
			},
			"offsets": {
				"from": 395000,
				"to": 399520
			},
			"text": " first try to call a function that is non-reentered protected."
		},
		{
			"timestamps": {
				"from": "00:06:39,520",
				"to": "00:06:41,960"
			},
			"offsets": {
				"from": 399520,
				"to": 401960
			},
			"text": " If this call fails, then it means"
		},
		{
			"timestamps": {
				"from": "00:06:41,960",
				"to": "00:06:44,760"
			},
			"offsets": {
				"from": 401960,
				"to": 404760
			},
			"text": " that you are in the middle of a re-entering and you shouldn't"
		},
		{
			"timestamps": {
				"from": "00:06:44,760",
				"to": "00:06:47,320"
			},
			"offsets": {
				"from": 404760,
				"to": 407320
			},
			"text": " read the state of the contract."
		},
		{
			"timestamps": {
				"from": "00:06:47,320",
				"to": "00:06:48,880"
			},
			"offsets": {
				"from": 407320,
				"to": 408880
			},
			"text": " So that's it for me."
		},
		{
			"timestamps": {
				"from": "00:06:48,880",
				"to": "00:06:51,760"
			},
			"offsets": {
				"from": 408880,
				"to": 411760
			},
			"text": " Actually, we just published this attack."
		},
		{
			"timestamps": {
				"from": "00:06:51,760",
				"to": "00:06:54,360"
			},
			"offsets": {
				"from": 411760,
				"to": 414360
			},
			"text": " Feel free to read more about it."
		},
		{
			"timestamps": {
				"from": "00:06:54,360",
				"to": "00:06:56,200"
			},
			"offsets": {
				"from": 414360,
				"to": 416200
			},
			"text": " Thank you very much."
		},
		{
			"timestamps": {
				"from": "00:06:56,200",
				"to": "00:06:59,240"
			},
			"offsets": {
				"from": 416200,
				"to": 419240
			},
			"text": " [VIDEO PLAYBACK]"
		},
		{
			"timestamps": {
				"from": "00:06:59,240",
				"to": "00:07:02,280"
			},
			"offsets": {
				"from": 419240,
				"to": 422280
			},
			"text": " [END PLAYBACK]"
		},
		{
			"timestamps": {
				"from": "00:07:02,280",
				"to": "00:07:05,320"
			},
			"offsets": {
				"from": 422280,
				"to": 425320
			},
			"text": " [VIDEO PLAYBACK]"
		},
		{
			"timestamps": {
				"from": "00:07:05,320",
				"to": "00:07:34,320"
			},
			"offsets": {
				"from": 425320,
				"to": 454320
			},
			"text": " [ Silence ]"
		}
	]
}
